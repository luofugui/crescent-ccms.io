/* Improved dropdown styles for the About menu
   Uses opacity/visibility and pointer-events to avoid gaps that close the menu
*/
.dropdown-parent { position: relative; }

.dropdown {
  position: absolute;
  top: 100%; /* place directly below the parent, no gap */
  left: 0;
  min-width: 12rem;
  z-index: 40;

  /* hidden state */
  opacity: 0;
  visibility: hidden;
  transform: translateY(6px);
  pointer-events: none;
  transition: opacity .12s ease, transform .12s ease, visibility .12s;
}

/* visible on hover or keyboard focus */
.dropdown-parent:hover > .dropdown,
.dropdown-parent:focus-within > .dropdown {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: auto;
}

/* small visual tweaks */
.dropdown a { display: block; padding: .25rem .5rem; }
.dropdown .pa2 { padding: .25rem .5rem; }

/* Mobile: make dropdown part of the document flow so touch works predictably */
@media (max-width: 60em) {
  /* On small screens hide the full nav behind a hamburger and keep dropdowns collapsed by default */

  /* Main nav: hidden by default on small screens */
  .nav-toggle-main { display: inline-block; }
  .site-nav { display: none; }
  .site-nav.open { display: block; }

  /* Simple styling for hamburger */
  .nav-toggle-main { background: transparent; border: 0; padding: .25rem; cursor: pointer; }
  .nav-toggle-box { display: inline-block; width: 1.5rem; height: 1rem; position: relative; }
  .nav-toggle-inner, .nav-toggle-inner::before, .nav-toggle-inner::after { display: block; background: #fff; height: 2px; width: 100%; position: absolute; left: 0; }
  .nav-toggle-inner { top: 50%; transform: translateY(-50%); }
  .nav-toggle-inner::before { content: ''; top: -6px; }
  .nav-toggle-inner::after { content: ''; top: 6px; }

  /* When nav is open, show the site-nav */
  .site-nav.open { display: block; }

  /* Ensure list stacks vertically on mobile */
  .site-nav ul { display: block; }
  .site-nav li { display: block; }

  /* Keep dropdowns collapsed by default and show when the parent has .open */
  .dropdown {
    position: static;
    transform: none;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    max-height: 0;
    overflow: hidden;
    transition: max-height .18s ease, opacity .12s ease, visibility .12s;
  }

  .dropdown-parent.open > .dropdown {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    max-height: 500px; /* large enough to show menu items; adjust if needed */
  }

  /* Toggle button visible only on small screens */
  .dropdown-toggle {
    display: inline-block;
    background: transparent;
    border: 0;
    color: inherit;
    padding: .25rem .5rem;
    margin-left: .25rem;
    font-size: 1rem;
    line-height: 1;
    cursor: pointer;
  }
}

/* Style the submenu toggle as a small chevron on mobile (avoid plain bar) */
.dropdown-toggle {
  appearance: none;
  -webkit-appearance: none;
  background: transparent;
  border: 0;
  padding: 0.2rem 0.5rem;
  margin-left: 0.25rem;
}
.dropdown-toggle::before {
  content: 'â–¾';
  display: inline-block;
  transition: transform .18s ease;
  font-size: 0.9rem;
  line-height: 1;
}
.dropdown-parent.open > .dropdown-toggle::before {
  transform: rotate(-180deg);
}

/* Ensure desktop does not show the mobile toggles (the template adds dn-ns to the button) */
.dropdown-toggle.dn-ns { display: inline-block; }
@media (min-width: 60em) {
  .dropdown-toggle.dn-ns { display: none; }
}

/* Responsive iframe wrapper for embedded Google Forms */
.responsive-iframe {
  position: relative;
  width: 100%;
  /* adjust padding-bottom to match your form's aspect ratio (height/width) */
  /* 720 / 640 = 1.125 => 112.5% (rounded to 113% for a bit more space) */
  padding-bottom: 113%;
  height: 0;
  overflow: hidden;
}
.responsive-iframe iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: 0;
}
